{"ast":null,"code":"import _classCallCheck from \"/Users/josephkoon/Desktop/1099-complete/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/josephkoon/Desktop/1099-complete/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/josephkoon/Desktop/1099-complete/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/josephkoon/Desktop/1099-complete/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/josephkoon/Desktop/1099-complete/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/josephkoon/Desktop/1099-complete/src/components/CheckoutPage2.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\n\nvar CheckoutPage2 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CheckoutPage2, _Component);\n\n  function CheckoutPage2() {\n    _classCallCheck(this, CheckoutPage2);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CheckoutPage2).apply(this, arguments));\n  }\n\n  _createClass(CheckoutPage2, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var stripe = window.Stripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\n      var elements = stripe.elements(); //CREATE CARD FORM\n      // Custom styling can be passed to options when creating an Element.\n\n      var style = {\n        base: {\n          // Add your base input styles here. For example:\n          fontSize: '16px',\n          color: \"#32325d\"\n        }\n      }; // Create an instance of the card Element.\n\n      var card = elements.create('card', {\n        style: style\n      }); // Add an instance of the card Element into the `card-element` <div>.\n\n      card.mount('#card-element'); //VALIDATION MESSAGE\n\n      card.addEventListener('change', function (event) {\n        var displayError = document.getElementById('card-errors');\n\n        if (event.error) {\n          displayError.textContent = event.error.message;\n        } else {\n          displayError.textContent = '';\n        }\n      }); //CREATE A TOKEN\n      // Create a token or display an error when the form is submitted.\n\n      var form = document.getElementById('payment-form');\n      form.addEventListener('submit', function (event) {\n        event.preventDefault();\n        stripe.createToken(card).then(function (result) {\n          if (result.error) {\n            // Inform the customer that there was an error.\n            var errorElement = document.getElementById('card-errors');\n            errorElement.textContent = result.error.message;\n          } else {\n            // Send the token to your server.\n            stripeTokenHandler(result.token);\n          }\n        });\n      }); //SEND TO SERVER\n\n      function stripeTokenHandler(token) {\n        // Insert the token ID into the form so it gets submitted to the server\n        var form = document.getElementById('payment-form');\n        var hiddenInput = document.createElement('input');\n        hiddenInput.setAttribute('type', 'hidden');\n        hiddenInput.setAttribute('name', 'stripeToken');\n        hiddenInput.setAttribute('value', token.id);\n        form.appendChild(hiddenInput); // Submit the form\n\n        form.submit();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        action: \"/charge\",\n        method: \"post\",\n        id: \"payment-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"card-element\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Credit or debit card\"), React.createElement(\"div\", {\n        id: \"card-element\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"card-errors\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Submit Payment\")));\n    }\n  }]);\n\n  return CheckoutPage2;\n}(Component);\n\nexport default CheckoutPage2;","map":{"version":3,"sources":["/Users/josephkoon/Desktop/1099-complete/src/components/CheckoutPage2.js"],"names":["React","Component","Link","axios","CheckoutPage2","stripe","window","Stripe","elements","style","base","fontSize","color","card","create","mount","addEventListener","event","displayError","document","getElementById","error","textContent","message","form","preventDefault","createToken","then","result","errorElement","stripeTokenHandler","token","hiddenInput","createElement","setAttribute","id","appendChild","submit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nimport axios from \"axios\";\n\n\n\n\n\n\n\n\n\nclass CheckoutPage2 extends Component {\n\n\n\tcomponentDidMount(){\n\t    var stripe = window.Stripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\n\t\tvar elements = stripe.elements();\n\n\n\n\t\t//CREATE CARD FORM\n\t\t// Custom styling can be passed to options when creating an Element.\n\t\tvar style = {\n\t\t  base: {\n\t\t    // Add your base input styles here. For example:\n\t\t    fontSize: '16px',\n\t\t    color: \"#32325d\",\n\t\t  }\n\t\t};\n\n\t\t// Create an instance of the card Element.\n\t\tvar card = elements.create('card', {style: style});\n\n\t\t// Add an instance of the card Element into the `card-element` <div>.\n\t\tcard.mount('#card-element');\n\n\n\n\t\t//VALIDATION MESSAGE\n\t\tcard.addEventListener('change', function(event) {\n\t\t\tvar displayError = document.getElementById('card-errors');\n\t\t\tif (event.error) {\n\t\t\t\tdisplayError.textContent = event.error.message;\n\t\t\t} else {\n\t\t\t\tdisplayError.textContent = '';\n\t\t\t}\n\t\t});\n\n\n\n\t\t//CREATE A TOKEN\n\t\t// Create a token or display an error when the form is submitted.\n\t\tvar form = document.getElementById('payment-form');\n\t\tform.addEventListener('submit', function(event) {\n\t\t  event.preventDefault();\n\n\t\t  stripe.createToken(card).then(function(result) {\n\t\t    if (result.error) {\n\t\t      // Inform the customer that there was an error.\n\t\t      var errorElement = document.getElementById('card-errors');\n\t\t      errorElement.textContent = result.error.message;\n\t\t    } else {\n\t\t      // Send the token to your server.\n\t\t      stripeTokenHandler(result.token);\n\t\t    }\n\t\t  });\n\t\t});\n\n\n\n\t\t//SEND TO SERVER\n\t\tfunction stripeTokenHandler(token) {\n\t\t  // Insert the token ID into the form so it gets submitted to the server\n\t\t  var form = document.getElementById('payment-form');\n\t\t  var hiddenInput = document.createElement('input');\n\t\t  hiddenInput.setAttribute('type', 'hidden');\n\t\t  hiddenInput.setAttribute('name', 'stripeToken');\n\t\t  hiddenInput.setAttribute('value', token.id);\n\t\t  form.appendChild(hiddenInput);\n\n\t\t  // Submit the form\n\t\t  form.submit();\n\t\t}\n\n\t}\n\n\n\trender(){\n\n\t\t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\n\t\t\t<form action=\"/charge\" method=\"post\" id=\"payment-form\">\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t<label for=\"card-element\">\n\t\t\t\tCredit or debit card\n\t\t\t\t</label>\n\t\t\t\t<div id=\"card-element\">\n\t\t\t\t</div>\n\t\t\t\t<div id=\"card-errors\" role=\"alert\"></div>\n\t\t\t\t</div>\n\n\t\t\t\t<button>Submit Payment</button>\n\t\t\t</form>\n\n\t\t</div>)\n\t}\n\n}\n\n\n\nexport default CheckoutPage2\n"]},"metadata":{},"sourceType":"module"}